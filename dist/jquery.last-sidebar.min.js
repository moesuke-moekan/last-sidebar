/*
 * jQuery Last Sidebar v1.3.1 - horizontal slide menu plugin
 *
 * under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Written while knead boobs in one hand by Suzusaki Makoto
 * https://xn--nckmepf1g6g.com/
 */
!function(e){e.fn.lastSidebar=function(n){var t,i={itemTrigger:"#menuTrigger",align:"right",speed:300,breakPoint:null,noscroll:!1,openBefore:function(){},openAfter:function(){},closeBefore:function(){},closeAfter:function(){}},o=this,s=e.extend(i,n),a=e(document.body);null!==s.breakPoint&&(isNaN(s.breakPoint)?s.breakPoint=null:typeof s.breakPoint!==Number&&(s.breakPoint=Number(s.breakPoint)));var r=null,l=null,d=!1,c=function(){if(a.hasClass("open")&&(a.css(s.align,0).removeClass("open"),r.removeClass("active"),l.hide()),a.hasClass("noscroll")){var n=-1*parseInt(a.css("top"),10);a.removeClass("noscroll").scrollTop(n).css("top",""),e("html").height("")}f(!1)},f=function(e){if(!(!d&&!e||null!==s.breakPoint&&e)){var n,t;if(!s.breakPoint||window.innerWidth<=s.breakPoint||e){switch(s.align){case"right":n="auto",t=-1*o.width();break;case"left":n=-1*o.width(),t="auto"}o.css({left:n,right:t}).hide()}else o.css({left:"",right:""}),l.hide();d=!1}},h=function(e){e.preventDefault();var n=o.outerWidth();(!s.breakPoint||window.innerWidth<=s.breakPoint)&&(a.toggleClass("open"),a.hasClass("open")?p(n):g(n))},p=function(n){switch(s.openBefore(),l.stop().fadeIn(s.speed),s.align){case"right":o.stop().show().animate({right:0},s.speed,"swing"),a.stop().animate({right:n},s.speed,"swing");break;case"left":o.stop().show().animate({left:0},s.speed,"swing"),a.stop().animate({left:n},s.speed,"swing")}r.addClass("active"),s.noscroll&&(e("html").height(window.innerHeight),t=e(window).scrollTop(),a.addClass("noscroll").css("top",-1*t)),d=!0,s.openAfter()},g=function(n){switch(s.closeBefore(),l.stop().fadeOut(s.speed),s.align){case"right":o.stop().animate({right:-1*n},s.speed,"swing",function(){o.hide()}),a.stop().animate({right:0},s.speed,"swing");break;case"left":o.stop().animate({left:-1*n},s.speed,"swing",function(){o.hide()}),a.stop().animate({left:0},s.speed,"swing")}r.removeClass("active"),s.noscroll&&(e("html").height(""),a.removeClass("noscroll").css("top",""),e(window).scrollTop(t)),d=!1,s.closeAfter()};return o.closeSlide=function(){if(!s.breakPoint||window.innerWidth<=s.breakPoint){if(!a.hasClass("open"))return;var e=o.outerWidth();a.removeClass("open"),g(e)}},function(){o.addClass("lastSidebar"),r=e(s.itemTrigger);var n=document.createElement("a");n.setAttribute("href","#"),n.id="lastOverlay",document.body.appendChild(n),l=e("#lastOverlay"),f(!0);var t,i,a=navigator.userAgent;a.indexOf("iPhone")>0&&-1===a.indexOf("iPad")||a.indexOf("iPod")>0||a.indexOf("Android")>0?(t="orientationchange",i="tap click"):(t="resize",i="click"),e(window).on(t,c),r.add(l).on(i,h)}(),this}}(jQuery);
