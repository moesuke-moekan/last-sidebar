/*
 * jQuery Last Sidebar v1.3.1 - horizontal slide menu plugin
 *
 * under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Written while knead boobs in one hand by Suzusaki Makoto
 * https://xn--nckmepf1g6g.com/
 */
!function(e){e.fn.lastSidebar=function(t){var n,i={itemTrigger:"#menuTrigger",align:"right",speed:300,breakPoint:null,noscroll:!1,openBefore:function(){},openAfter:function(){},closeBefore:function(){},closeAfter:function(){}},o=this,s=e.extend(i,t),a=e(document.body);null!==s.breakPoint&&(isNaN(s.breakPoint)?s.breakPoint=null:typeof s.breakPoint!==Number&&(s.breakPoint=Number(s.breakPoint)));var r=null,l=null,d=!1,c=function(){if(a.hasClass("open")&&(a.css(s.align,0).removeClass("open"),r.removeClass("active"),l.hide()),a.hasClass("noscroll")){var t=-1*parseInt(a.css("top"),10);a.removeClass("noscroll").scrollTop(t).css("top",""),e("html").height("")}f(!1)},f=function(e){if(d||e){var t,n;if(!s.breakPoint||window.innerWidth<=s.breakPoint){switch(s.align){case"right":t="auto",n=-1*o.width();break;case"left":t=-1*o.width(),n="auto"}o.css({left:t,right:n}).hide()}else o.css({left:"",right:""}),l.hide();d=!1}},h=function(e){e.preventDefault();var t=o.outerWidth();(!s.breakPoint||window.innerWidth<=s.breakPoint)&&(a.toggleClass("open"),a.hasClass("open")?p(t):g(t))},p=function(t){switch(s.openBefore(),l.stop().fadeIn(s.speed),s.align){case"right":o.stop().show().animate({right:0},s.speed,"swing"),a.stop().animate({right:t},s.speed,"swing");break;case"left":o.stop().show().animate({left:0},s.speed,"swing"),a.stop().animate({left:t},s.speed,"swing")}r.addClass("active"),s.noscroll&&(e("html").height(window.innerHeight),n=e(window).scrollTop(),a.addClass("noscroll").css("top",-1*n)),d=!0,s.openAfter()},g=function(t){switch(s.closeBefore(),l.stop().fadeOut(s.speed),s.align){case"right":o.stop().animate({right:-1*t},s.speed,"swing",function(){o.hide()}),a.stop().animate({right:0},s.speed,"swing");break;case"left":o.stop().animate({left:-1*t},s.speed,"swing",function(){o.hide()}),a.stop().animate({left:0},s.speed,"swing")}r.removeClass("active"),s.noscroll&&(e("html").height(""),a.removeClass("noscroll").css("top",""),e(window).scrollTop(n)),d=!1,s.closeAfter()};return o.closeSlide=function(){if(!s.breakPoint||window.innerWidth<=s.breakPoint){if(!a.hasClass("open"))return;var e=o.outerWidth();a.removeClass("open"),g(e)}},function(){o.addClass("lastSidebar"),r=e(s.itemTrigger);var t=document.createElement("a");t.setAttribute("href","#"),t.id="lastOverlay",document.body.appendChild(t),l=e("#lastOverlay"),f(!0);var n,i,a=navigator.userAgent;a.indexOf("iPhone")>0&&-1===a.indexOf("iPad")||a.indexOf("iPod")>0||a.indexOf("Android")>0?(n="orientationchange",i="tap click"):(n="resize",i="click"),e(window).on(n,c),r.add(l).on(i,h)}(),this}}(jQuery);
