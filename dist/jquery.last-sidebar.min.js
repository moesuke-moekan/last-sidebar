/*
 * jQuery Last Sidebar v1.2.1 - horizontal slide menu plugin
 *
 * under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Written while knead boobs in one hand by Suzusaki Makoto
 * http://xn--nckmepf1g6g.com/
 */
!function(e){e.fn.lastSidebar=function(i){var t,s={itemTrigger:"#menuTrigger",align:"right",speed:300,breakPoint:!1,noscroll:!1,openBefore:function(){},openAfter:function(){},closeBefore:function(){},closeAfter:function(){}},n=this,o=e.extend(s,i),a=e(document.body),r=null,l=!0,d=function(){if(a.hasClass("open")&&(a.css(o.align,0).removeClass("open"),e(o.itemTrigger).removeClass("active"),r.hide()),a.hasClass("noscroll")){var i=-1*parseInt(a.css("top"),10);a.removeClass("noscroll").scrollTop(i).css("top",""),e("html").height("")}c()},c=function(){if(l){var e,i;if(!o.breakPoint||window.innerWidth<=o.breakPoint){switch(o.align){case"right":e="auto",i=-n.width();break;case"left":e=-n.width(),i="auto"}n.css({left:e,right:i}).hide()}else n.css({left:"",right:""}),r.hide();l=!1}},h=function(){console.log("!");var i=n.outerWidth();if(a.toggleClass("open"),!o.breakPoint||window.innerWidth<=o.breakPoint)if(a.hasClass("open")){switch(o.openBefore(),r.stop().fadeIn(o.speed),o.align){case"right":n.stop().show().animate({right:0},o.speed,"swing"),a.stop().animate({right:i},o.speed,"swing");break;case"left":n.stop().show().animate({left:0},o.speed,"swing"),a.stop().animate({left:i},o.speed,"swing")}e(o.itemTrigger).addClass("active"),o.noscroll&&(e("html").height(window.innerHeight),t=e(window).scrollTop(),a.addClass("noscroll").css("top",-1*t)),l=!0,o.openAfter()}else{switch(o.closeBefore(),r.stop().fadeOut(o.speed),o.align){case"right":n.stop().animate({right:-i},o.speed,"swing",function(){n.hide()}),a.stop().animate({right:0},o.speed,"swing");break;case"left":n.stop().animate({left:-i},o.speed,"swing",function(){n.hide()}),a.stop().animate({left:0},o.speed,"swing")}e(o.itemTrigger).removeClass("active"),o.noscroll&&(e("html").height(""),a.removeClass("noscroll").css("top",""),e(window).scrollTop(t)),l=!1,o.closeAfter()}return!1};return function(){n.addClass("lastSidebar");var i=document.createElement("a");i.setAttribute("href","#"),i.id="lastOverlay",document.body.appendChild(i),r=e("#lastOverlay"),c();var t,s,a=navigator.userAgent;a.indexOf("iPhone")>0&&-1===a.indexOf("iPad")||a.indexOf("iPod")>0||a.indexOf("Android")>0?(t="orientationchange",s="tap click"):(t="resize",s="click"),e(window).on(t,d),e(o.itemTrigger).add(r).on(s,h),e(window).on("scroll",function(){e("body").hasClass("noscroll")&&e("html").height(window.innerHeight)})}(),this}}(jQuery);